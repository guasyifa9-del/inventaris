<?php
 goto dXa9S; kD8T8: require_once __DIR__ . "\x2f\154\x69\142\57\x61\165\x74\150\x2e\x70\x68\x70"; goto GwNiG; e12G6: require_once __DIR__ . "\57\x6c\x69\x62\x2f\146\165\x6e\x63\164\151\x6f\156\x73\56\160\x68\160"; goto kD8T8; dXa9S: session_start(); goto zkxSY; INLNC: ?>
<!doctypehtml><html lang="id"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"name="viewport"><title>Login - Inventaris Kantor</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"rel="stylesheet"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea 0,#764ba2 100%);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}.login-container{width:100%;max-width:450px;background:#fff;border-radius:20px;box-shadow:0 10px 40px rgba(0,0,0,.2);overflow:hidden}.login-header{background:linear-gradient(135deg,#667eea 0,#764ba2 100%);padding:30px;text-align:center;color:#fff}.login-header h2{margin:10px 0;font-size:24px;font-weight:700}.login-header p{margin:0;opacity:.9;font-size:14px}.role-selector{display:flex;gap:15px;justify-content:center;margin:20px 0}.role-card{background:#fff;border:2px solid transparent;border-radius:15px;padding:20px;text-align:center;cursor:pointer;transition:all .3s;flex:1;max-width:150px}.role-card:hover{transform:translateY(-5px);box-shadow:0 5px 20px rgba(0,0,0,.1)}.role-card.active{border-color:#667eea;background:#f0f4ff}.role-card i{font-size:40px;margin-bottom:10px}.role-card.kepala i{color:#10b981}.role-card.manager i{color:#f59e0b}.role-card h5{font-size:14px;font-weight:600;margin:0}.role-card p{font-size:11px;color:#666;margin:5px 0 0 0}.login-body{padding:30px}.form-control{border-radius:10px;padding:12px 15px;border:1px solid #ddd;font-size:14px}.form-control:focus{border-color:#667eea;box-shadow:0 0 0 .2rem rgba(102,126,234,.25)}.input-group-text{background:#f8f9fa;border:1px solid #ddd;border-radius:10px 0 0 10px}.btn-login{width:100%;padding:12px;border-radius:10px;font-weight:600;font-size:16px;background:linear-gradient(135deg,#667eea 0,#764ba2 100%);border:none;color:#fff;transition:all .3s}.btn-login:hover{transform:translateY(-2px);box-shadow:0 5px 20px rgba(102,126,234,.4)}.toggle-password{cursor:pointer;background:#f8f9fa;border:1px solid #ddd;border-left:none;border-radius:0 10px 10px 0}.alert{border-radius:10px;font-size:14px}.register-link{text-align:center;margin-top:20px;padding-top:20px;border-top:1px solid #eee}.register-link a{color:#667eea;font-weight:600;text-decoration:none}.demo-accounts{background:#f8f9fa;border-radius:10px;padding:15px;margin-top:15px;font-size:12px}.demo-accounts h6{font-size:13px;font-weight:600;margin-bottom:10px}.demo-accounts div{margin:5px 0}@media (max-width:576px){.login-container{max-width:100%;border-radius:15px}.login-header{padding:20px}.login-header h2{font-size:20px}.login-body{padding:20px}.role-card{padding:15px;max-width:120px}.role-card i{font-size:30px}.role-card h5{font-size:12px}.role-card p{font-size:10px}}</style></head><body><div class="login-container"><div class="login-header"><i class="fas fa-3x fa-box"></i><h2>INVENTARIS KANTOR</h2><p>Manajemen Inventaris & Peminjaman Barang</p><div class="role-selector"><div class="role-card active kepala"onclick='selectRole("kepala")'><i class="fas fa-building"></i><h5>Kepala Departemen</h5><p>Peminjam barang</p></div><div class="role-card manager"onclick='selectRole("manager")'><i class="fas fa-user-tie"></i><h5>Inventory Manager</h5><p>Kelola sistem</p></div></div></div><div class="login-body"><?php  goto tWeS4; zkxSY: require_once __DIR__ . "\x2f\x63\x6f\x6e\146\151\x67\57\144\141\x74\x61\x62\141\163\145\56\x70\150\x70"; goto e12G6; GwNiG: if (isset($_SESSION["\x75\163\145\x72\x5f\x69\x64"])) { $role = $_SESSION["\162\157\x6c\145"] ?? "\153\x65\x70\141\154\x61\137\144\145\x70\x61\x72\164\145\155\145\x6e"; if ($role == "\x69\x6e\x76\x65\156\x74\157\x72\x79\x5f\x6d\141\x6e\x61\147\145\162") { header("\x4c\157\143\x61\x74\x69\157\x6e\x3a\40\141\144\155\x69\x6e\x2f\144\x61\163\150\142\157\x61\162\x64\56\x70\150\x70"); } else { header("\x4c\x6f\143\x61\x74\151\157\x6e\72\x20\165\x73\145\162\x2f\144\141\x73\150\142\x6f\141\162\x64\x2e\160\x68\x70"); } die; } goto MK1Ok; MK1Ok: $error = ''; goto FSSxX; FSSxX: if ($_SERVER["\122\105\121\125\105\x53\124\x5f\115\105\124\110\117\104"] == "\120\x4f\x53\124") { $username_or_email = trim($_POST["\165\x73\145\162\x6e\141\x6d\x65"]); $password = $_POST["\x70\141\163\x73\167\x6f\162\x64"]; if (empty($username_or_email) || empty($password)) { $error = "\x55\x73\x65\162\x6e\x61\x6d\145\x2f\x65\x6d\141\151\x6c\x20\144\141\156\x20\160\x61\x73\x73\x77\157\162\144\40\150\141\x72\x75\x73\x20\x64\151\151\x73\x69\x21"; } else { $stmt = mysqli_prepare($connection, "\x53\x45\x4c\105\103\124\x20\x2a\40\106\122\117\115\40\165\163\145\x72\x73\40\127\x48\x45\122\105\40\165\163\145\162\156\x61\x6d\x65\x20\x3d\40\77\40\x4f\122\40\x65\x6d\x61\151\x6c\40\75\40\x3f"); mysqli_stmt_bind_param($stmt, "\163\x73", $username_or_email, $username_or_email); mysqli_stmt_execute($stmt); $result = mysqli_stmt_get_result($stmt); if ($user = mysqli_fetch_assoc($result)) { if (password_verify($password, $user["\160\x61\x73\x73\x77\x6f\x72\144"])) { if ($user["\163\164\141\x74\x75\x73"] == "\x61\x63\164\x69\166\145") { $_SESSION["\x75\x73\145\162\x5f\x69\x64"] = $user["\x75\x73\145\x72\137\x69\x64"]; $_SESSION["\x75\163\x65\162\156\x61\155\145"] = $user["\165\163\x65\x72\156\141\155\x65"]; $_SESSION["\156\141\x6d\141\137\154\x65\156\x67\153\x61\160"] = $user["\156\x61\x6d\x61\x5f\154\x65\156\x67\x6b\x61\160"]; $_SESSION["\162\x6f\x6c\145"] = $user["\x72\157\154\x65"]; $_SESSION["\145\x6d\x61\151\x6c"] = $user["\145\155\x61\151\154"]; $_SESSION["\144\x65\160\x61\x72\164\x65\x6d\x65\156"] = $user["\144\x65\160\x61\162\164\145\x6d\x65\156"] ?? ''; $_SESSION["\152\145\x6e\x69\x73\137\160\x65\x6e\x67\x67\x75\x6e\x61"] = $user["\x6a\145\156\151\163\x5f\x70\x65\156\147\147\x75\156\x61"] ?? "\x6b\x65\160\x61\x6c\141\137\x64\x65\x70\141\x72\164\145\155\x65\156"; $_SESSION["\x6a\141\142\141\x74\141\x6e"] = $user["\152\x61\x62\141\164\141\156"] ?? ''; mysqli_query($connection, "\125\x50\x44\x41\124\x45\40\165\x73\x65\162\x73\x20\123\105\x54\40\154\141\163\164\x5f\154\x6f\x67\151\156\x20\x3d\40\x4e\117\127\x28\x29\40\127\110\105\122\x45\40\x75\x73\x65\162\137\x69\x64\40\x3d\x20{$user["\x75\x73\145\x72\x5f\x69\144"]}"); logActivity("\114\117\107\111\x4e", "\x55\163\x65\x72\x20{$user["\165\163\145\162\156\141\x6d\x65"]}\40\x6c\x6f\x67\147\x65\144\40\151\x6e\40\x61\163\40{$user["\x72\x6f\x6c\x65"]}"); if ($user["\162\157\154\x65"] == "\x69\x6e\x76\x65\156\x74\x6f\x72\171\x5f\155\x61\x6e\141\147\x65\x72") { header("\x4c\157\x63\141\164\151\x6f\x6e\72\40\141\x64\x6d\x69\x6e\57\144\x61\163\150\x62\157\x61\x72\144\56\x70\150\x70"); } else { header("\114\157\x63\141\164\x69\x6f\156\x3a\40\165\x73\x65\x72\57\144\141\163\x68\x62\x6f\x61\x72\x64\x2e\x70\150\x70"); } die; } elseif ($user["\x73\164\141\x74\165\x73"] == "\160\145\x6e\144\151\156\147") { $error = "\101\x6b\165\x6e\40\x41\156\x64\141\x20\142\x65\x6c\165\x6d\40\x64\x69\x61\x6b\164\x69\x66\153\141\156\x2e\x20\115\145\156\x75\x6e\x67\147\x75\x20\x70\x65\162\x73\145\x74\x75\x6a\x75\141\156\x20\x49\x6e\166\145\x6e\164\157\162\171\x20\115\x61\x6e\141\x67\x65\x72\56"; } elseif ($user["\163\164\141\164\x75\163"] == "\x62\x6c\157\x63\x6b\145\x64") { $error = "\x41\x6b\x75\x6e\x20\101\x6e\144\141\x20\144\151\142\x6c\157\153\x69\162\x2e\40\x48\x75\142\x75\156\147\151\40\x49\156\x76\x65\x6e\x74\x6f\162\171\40\x4d\x61\x6e\x61\147\145\x72\56"; } else { $error = "\x53\164\x61\x74\165\x73\40\141\153\x75\x6e\x20\164\151\144\x61\153\40\166\x61\154\151\144\56"; } } else { $error = "\120\x61\163\x73\167\x6f\162\144\40\163\141\154\141\x68\41"; } } else { $error = "\125\x73\145\162\x6e\x61\155\145\x2f\145\155\x61\151\x6c\x20\164\151\x64\141\153\x20\144\x69\x74\x65\155\165\x6b\141\156\x21"; } } } goto INLNC; tWeS4: if ($error) { ?>
<div class="alert alert-danger alert-dismissible fade show"><i class="fas me-2 fa-exclamation-circle"></i><?php  echo htmlspecialchars($error); ?>
<button class="btn-close"type="button"data-bs-dismiss="alert"></button></div><?php  } goto qAM5V; qAM5V: ?>
<form method="POST"><div class="mb-3"><label class="form-label fw-bold">Username atau Email</label><div class="input-group"><span class="input-group-text"><i class="fas fa-user"></i></span> <input class="form-control"name="username"placeholder="Masukkan username"required autofocus></div></div><div class="mb-3"><label class="form-label fw-bold">Password</label><div class="input-group"><span class="input-group-text"><i class="fas fa-lock"></i></span> <input class="form-control"name="password"placeholder="Masukkan password"required id="password"type="password"> <button class="btn toggle-password"type="button"onclick="togglePassword()"><i class="fas fa-eye"id="toggleIcon"></i></button></div></div><button class="btn btn-login"type="submit"><i class="fas me-2 fa-sign-in-alt"></i>LOGIN</button></form><div class="register-link">Belum punya akun? <a href="register.php"><i class="fas fa-user-plus me-1"></i>Daftar Sekarang</a></div><div class="demo-accounts"><h6><i class="fas me-2 fa-info-circle"></i>Contoh Akun:</h6><div><strong>Inventory Manager:</strong> inventory_manager / password</div><div><strong>Kepala HR:</strong> kepala_hr / password</div><div><strong>Kepala Finance:</strong> kepala_finance / password</div></div></div></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script><script>function togglePassword() {
    const password = document.getElementById('password');
    const icon = document.getElementById('toggleIcon');
    
    if (password.type === 'password') {
        password.type = 'text';
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
    } else {
        password.type = 'password';
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
    }
}

function selectRole(role) {
    document.querySelectorAll('.role-card').forEach(card => {
        card.classList.remove('active');
    });
    
    const selectedCard = document.querySelector('.role-card.' + role);
    selectedCard.classList.add('active');
}

// Auto dismiss alert
setTimeout(() => {
    const alert = document.querySelector('.alert');
    if (alert) {
        const bsAlert = new bootstrap.Alert(alert);
        bsAlert.close();
    }
}, 5000);</script></body></html>