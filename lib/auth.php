<?php
 goto DIH7l; dIU_G: function isKepalaDepartemen() { return isset($_SESSION["\x6a\x65\x6e\x69\x73\137\160\x65\x6e\147\147\165\x6e\x61"]) && $_SESSION["\152\145\x6e\x69\x73\137\160\x65\x6e\147\147\165\156\141"] == "\x6b\x65\160\141\x6c\x61\x5f\144\145\x70\141\x72\164\x65\x6d\145\x6e"; } goto gvHDV; qcbzI: function getFlashMessage() { if (isset($_SESSION["\146\x6c\x61\163\x68\137\x6d\x65\163\x73\141\x67\145"])) { $message = array("\164\x79\160\145" => $_SESSION["\x66\154\141\x73\150\137\x74\171\x70\x65"] ?? "\x69\156\x66\x6f", "\x6d\x65\163\163\x61\147\x65" => $_SESSION["\x66\x6c\x61\x73\150\137\x6d\145\x73\x73\141\x67\145"]); unset($_SESSION["\146\x6c\141\163\x68\137\x74\171\160\x65"], $_SESSION["\x66\x6c\x61\x73\x68\137\x6d\145\163\163\x61\147\x65"]); return $message; } return null; } goto lnBfO; gvHDV: function isKepalaInventaris() { return isInventoryManager(); } goto fD_nw; WwPIh: function requireUser() { requireAuth(); $role = $_SESSION["\162\157\154\x65"] ?? "\x6b\145\160\141\x6c\x61\137\x64\145\160\141\x72\164\145\155\145\156"; $jenis_pengguna = $_SESSION["\x6a\x65\x6e\x69\x73\137\x70\x65\x6e\147\147\x75\x6e\141"] ?? "\153\145\x70\x61\x6c\141\x5f\x64\145\x70\x61\162\x74\145\155\x65\156"; if ($role == "\151\x6e\166\x65\x6e\x74\x6f\162\171\x5f\x6d\141\x6e\x61\x67\145\x72" || $jenis_pengguna == "\x69\x6e\166\x65\x6e\164\x6f\x72\x79\137\155\141\x6e\141\147\145\162") { header("\x4c\x6f\x63\x61\164\x69\157\156\72\x20\57\x69\x6e\x76\x65\x6e\x74\x61\162\151\163\57\x61\144\155\x69\156\x2f\x64\141\163\x68\x62\157\x61\162\144\x2e\160\150\x70"); die; } } goto Ai05J; bUi61: function requireAdmin() { requireAuth(); $role = $_SESSION["\x72\x6f\x6c\x65"] ?? "\x6b\x65\x70\141\154\141\137\144\x65\160\x61\162\164\x65\155\145\x6e"; $jenis_pengguna = $_SESSION["\152\145\156\x69\163\137\x70\145\x6e\147\147\165\x6e\x61"] ?? "\x6b\145\160\x61\x6c\141\x5f\x64\x65\x70\x61\162\x74\x65\x6d\145\x6e"; if ($role != "\x69\156\166\x65\x6e\x74\157\162\171\x5f\x6d\141\x6e\x61\147\145\162" && $jenis_pengguna != "\151\x6e\x76\x65\x6e\x74\x6f\162\171\137\155\141\156\x61\x67\x65\x72") { $_SESSION["\145\162\x72\x6f\162\x5f\155\x65\x73\163\141\x67\145"] = "\101\x6b\163\x65\163\40\144\x69\164\157\154\141\153\x21\40\x48\x61\x6c\141\x6d\x61\x6e\40\x69\x6e\151\40\x68\141\156\171\x61\40\165\x6e\x74\165\x6b\x20\x49\x6e\x76\x65\156\164\157\x72\x79\40\x4d\141\x6e\141\x67\x65\162\x2e"; header("\x4c\x6f\x63\141\164\x69\x6f\156\x3a\x20\57\151\156\166\x65\156\164\x61\x72\151\x73\57\165\x73\x65\x72\57\x64\x61\x73\x68\142\157\141\162\144\x2e\x70\x68\160"); die; } } goto WwPIh; DIH7l: require_once __DIR__ . "\57\56\x2e\57\x63\157\x6e\x66\x69\147\x2f\144\141\164\141\142\x61\x73\145\56\160\x68\x70"; goto LoWd1; GiEWI: function canAccess($resource_user_id) { if (isInventoryManager()) { return true; } return isset($_SESSION["\x75\163\x65\x72\137\x69\x64"]) && $_SESSION["\x75\163\x65\x72\137\x69\x64"] == $resource_user_id; } goto lJZyX; Ai05J: function isInventoryManager() { return isset($_SESSION["\x72\157\x6c\145"]) && $_SESSION["\x72\157\x6c\x65"] == "\151\x6e\x76\x65\x6e\164\x6f\162\x79\137\x6d\x61\x6e\141\147\145\x72"; } goto F1DP0; U9X4c: function getCurrentUser() { global $connection; if (!isset($_SESSION["\x75\x73\145\x72\137\151\x64"])) { return null; } $stmt = mysqli_prepare($connection, "\123\105\x4c\105\103\x54\x20\x2a\x20\106\122\117\115\x20\165\163\145\x72\x73\x20\x57\110\105\x52\x45\40\165\x73\145\x72\x5f\x69\x64\x20\75\40\77"); mysqli_stmt_bind_param($stmt, "\151", $_SESSION["\x75\163\x65\x72\x5f\x69\x64"]); mysqli_stmt_execute($stmt); $result = mysqli_stmt_get_result($stmt); $user = mysqli_fetch_assoc($result); mysqli_stmt_close($stmt); return $user; } goto ihkgb; lJZyX: function sanitize($data) { $data = trim($data); $data = stripslashes($data); $data = htmlspecialchars($data, ENT_QUOTES, "\x55\x54\x46\55\x38"); return $data; } goto yttG9; LoWd1: function requireAuth() { if (!isset($_SESSION["\165\x73\x65\x72\x5f\x69\x64"])) { header("\x4c\x6f\143\141\x74\x69\157\156\72\x20\x2f\151\156\166\x65\x6e\164\x61\162\151\163\x2f\154\x6f\x67\151\x6e\56\x70\x68\160"); die; } } goto bUi61; fD_nw: function canCreateSuratPeminjaman() { return isKepalaDepartemen(); } goto y8Gxz; yttG9: function redirect($url) { header("\x4c\x6f\143\x61\164\151\x6f\156\72\x20" . $url); die; } goto iTAvi; iTAvi: function setFlashMessage($type, $message) { $_SESSION["\146\x6c\141\163\150\137\164\x79\160\145"] = $type; $_SESSION["\x66\154\x61\163\150\x5f\x6d\x65\x73\x73\x61\147\x65"] = $message; } goto qcbzI; RM_KF: function isUser() { return isKepalaDepartemen(); } goto U9X4c; ihkgb: function logActivity($aktivitas, $keterangan = '') { global $connection; if (!isset($_SESSION["\165\163\145\162\137\x69\x64"])) { return false; } $user_id = $_SESSION["\x75\x73\x65\x72\x5f\x69\x64"]; $ip = $_SERVER["\x52\x45\115\117\x54\105\x5f\101\104\104\122"]; $stmt = mysqli_prepare($connection, "\111\x4e\x53\105\122\124\40\111\x4e\x54\117\40\154\157\x67\x5f\141\153\164\x69\x76\151\x74\x61\163\x20\x28\165\x73\145\x72\x5f\x69\144\x2c\x20\x61\153\x74\x69\x76\151\164\141\x73\54\40\x6b\x65\164\145\162\x61\x6e\147\x61\156\x2c\x20\151\x70\x5f\x61\x64\x64\162\x65\x73\163\x29\40\126\x41\114\x55\105\123\40\x28\77\54\40\77\x2c\x20\x3f\x2c\x20\x3f\51"); mysqli_stmt_bind_param($stmt, "\151\163\163\x73", $user_id, $aktivitas, $keterangan, $ip); $result = mysqli_stmt_execute($stmt); mysqli_stmt_close($stmt); return $result; } goto GiEWI; y8Gxz: function canApproveSuratPeminjaman() { return isInventoryManager(); } goto RM_KF; F1DP0: function isAdmin() { return isInventoryManager(); } goto dIU_G; lnBfO: function getRoleLabel($role) { $labels = array("\151\156\166\145\x6e\x74\157\162\171\x5f\155\x61\156\141\x67\x65\x72" => "\x49\x6e\x76\145\156\164\157\x72\171\x20\115\x61\x6e\141\147\145\162", "\153\x65\160\141\154\x61\x5f\144\145\x70\141\162\x74\145\x6d\x65\156" => "\x4b\x65\x70\141\154\141\x20\x44\x65\x70\x61\162\x74\x65\x6d\x65\x6e"); return $labels[$role] ?? ucfirst($role); }